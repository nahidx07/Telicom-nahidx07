<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIM Service Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: var(--tg-theme-bg-color, #0f172a);
            color: var(--tg-theme-text-color, #ffffff);
        }
        .card {
            background-color: var(--tg-theme-secondary-bg-color, #1e293b);
        }
        .accent-button {
            background-color: var(--tg-theme-button-color, #38bdf8);
            color: var(--tg-theme-button-text-color, #ffffff);
        }
    </style>
</head>
<body class="p-4 font-sans">

    <div class="flex items-center justify-between mb-6">
        <div>
            <p class="text-xs opacity-60">‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ,</p>
            <h1 id="user-name" class="text-lg font-bold">User</h1>
        </div>
        <div class="text-right">
            <p class="text-xs opacity-60">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</p>
            <h2 id="balance" class="text-xl font-black text-sky-400">‡ß≥ 0.00</h2>
        </div>
    </div>

    <div class="grid grid-cols-2 gap-3 mb-8">
        <button onclick="showSection('offers')" class="card p-4 rounded-2xl flex flex-col items-center border border-slate-700">
            <span class="text-2xl mb-1">üéÅ</span>
            <span class="text-xs font-bold">‡¶Ö‡¶´‡¶æ‡¶∞‡¶∏‡¶Æ‡ßÇ‡¶π</span>
        </button>
        <button onclick="showSection('recharge')" class="card p-4 rounded-2xl flex flex-col items-center border border-slate-700">
            <span class="text-2xl mb-1">‚ö°</span>
            <span class="text-xs font-bold">‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú</span>
        </button>
    </div>

    <div id="offers-section">
        <h3 class="font-bold mb-4 flex items-center">
            <span class="w-1 h-4 bg-sky-500 rounded mr-2"></span>
            ‡¶∏‡ßá‡¶∞‡¶æ ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã
        </h3>
        <div id="package-list" class="space-y-3">
            <div class="card p-4 rounded-2xl border border-slate-700 animate-pulse">
                <div class="h-4 bg-slate-600 rounded w-3/4 mb-2"></div>
                <div class="h-3 bg-slate-600 rounded w-1/2"></div>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.ready();

        // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
        document.getElementById('user-name').innerText = tg.initDataUnsafe.user?.first_name || "User";

        // ‡¶Æ‡ßá‡¶á‡¶® ‡¶¨‡¶æ‡¶ü‡¶® ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
        tg.MainButton.setText("‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®").hide();

        function showSection(name) {
            tg.HapticFeedback.impactOccurred('light');
            // ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶π‡¶¨‡ßá
        }

        // Firebase ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶á‡¶® API ‡¶¨‡¶æ Firestore ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá
    </script>
</body>
</html>
